y=["2007-2008","2008-2009","2009-2010","2010-2011","2011-2012","2012-2013","2013-2014","2014-2015","2015-2016"]
p=["1. Ebaluazioa","2. Ebaluazioa","3. Ebaluazioa","Azken Ebaluazioa","Ohiz kanpoko Ebaluazioa"]
c=["2. DBH","1. DBH","3. DBH","Programa de Currículo Adaptado","4. DBH","3º Div.Cur.","1. Oinarrizko Hezkuntza (C.E.U.)","2. C.E.U.","1. Batxilergoa LOE","4º Div. Cur.","2. Batxilergoa LOE","3. C.E.U","4. C.E.U.","3º PMAR"]
["Teknologia BH2","2. DBH","Euskal Hizkuntza eta Literatura BH2","2. DBH",
"Gaztelania eta Literatura BH2","2. DBH",
"Natur Zientziak BH2","2. DBH",
"Gizarte Zientziak,  Geografia eta Historia BH2","2. DBH",
"Gizarte Zientziak,  Geografia eta Historia BH1","1. DBH",
"Gaztelania eta Literatura BH1","1. DBH",
"Atzerriko Hizkuntza: Ingelesa BH1","1. DBH",
"Hezkuntza Arreta BH1","1. DBH",
"Musika BH1","1. DBH",
"Atzerriko Bigarren Hizkuntza: Frantsesa BH1","1. DBH",
"Euskal Hizkuntza eta Literatura BH1","1. DBH",
"Natur Zientziak BH1","1. DBH",
"Teknologia BH1","1. DBH",
"Atzerriko Hizkuntza: Ingelesa BH2","2. DBH",
"Matematika sakontzen BH2","2. DBH",
"Gorputz Hezkuntza BH2","2. DBH",
"Plastika eta Ikus-hezkuntza BH2","2. DBH",
"Matematika BH2","2. DBH",
"Erlijioa BH1","1. DBH",
"Matematika BH1","1. DBH",
"Gorputz Hezkuntza BH1","1. DBH",
"Literatur Sorkuntza BH1","1. DBH",
"Atzerriko Bigarren Hizkuntza: Frantsesa BH2","2. DBH",
"Erlijioa BH2","2. DBH",
"Hezkuntz Jarduera Antolatua BH2","2. DBH",
"Oinarrizko Matematika BH1","1. DBH",
"Oinarrizko Hizkuntza Trebetasunak BH2","2. DBH",
"Erlijioen historia eta kultura BH1","1. DBH",
"Plastika eta Ikus-hezkuntza BH3","3. DBH",
"Atzerriko Hizkuntza: Ingelesa BH3","3. DBH",
"Gaztelania eta Literatura BH3","3. DBH",
"Hezkuntza Arreta BH2","2. DBH",
"Natur Zientziak BH3","3. DBH",
"Musika BH3","3. DBH",
"Euskal Hizkuntza eta Literatura BH3","3. DBH",
"Hezkuntza Arreta BH3","3. DBH",
"Herritartasunerako eta giza eskubideetarako hezkuntza BH3","3. DBH",
"O.C. Energi Berristagarriak DBH3","3. DBH",
"Gizarte Zientziak,  Geografia eta Historia BH3","3. DBH",
"Gorputz Hezkuntza BH3","3. DBH",
"Matematika ES3","3. DBH",
"Atzerriko Bigarren Hizkuntza: Alemana BH1","1. DBH",
"Erlijioa BH3","3. DBH",
"Atzerriko Bigarren Hizkuntza: Frantsesa BH3","3. DBH",
"Erlijioen historia eta kultura BH2","2. DBH",
"Erlijioa","Programa de Currículo Adaptado",
"Gorputz Hezkuntza","Programa de Currículo Adaptado",
"Erlijioen historia eta kultura BH3","3. DBH",
"Kultura Klasikoa - A BH3","3. DBH",
"Esparru Zientifiko-Matematikoa","Programa de Currículo Adaptado",
"Gizarte eta hizkuntza esparrua","Programa de Currículo Adaptado",
"Esparru Praktikoa","Programa de Currículo Adaptado",
"Gorputz Hezkuntza BH4","4. DBH",
"Matematika B BH4","4. DBH",
"Gizarte Zientziak,  Geografia eta Historia BH4","4. DBH",
"Biologia eta Geologia BH4","4. DBH",
"Hezkuntza Arreta BH4","4. DBH",
"Informatika BH4","4. DBH",
"Musika BH4","4. DBH",
"Gaztelania eta Literatura BH4","4. DBH",
"Euskal Hizkuntza eta Literatura BH4","4. DBH",
"Plastika eta Ikus-hezkuntza BH4","4. DBH",
"Hezkuntza etiko-zibikoa BH4","4. DBH",
"Teknologia BH4","4. DBH",
"Matematika A BH4","4. DBH",
"Atzerriko Bigarren Hizkuntza: Frantsesa BH4","4. DBH",
"Erlijioa BH4","4. DBH",
"Atzerriko Hizkuntza: Ingelesa BH4","4. DBH",
"Hizkuntzaren eta gizartearen esparrua 3DC","3º Div.Cur.",
"Gorputz Hezkuntza 3DC","3º Div.Cur.",
"Esparru zientifiko-matematikoa 3DC","3º Div.Cur.",
"Proiektuak 1 3DC","3º Div.Cur.",
"Hezkuntza Arreta 3DC","3º Div.Cur.",
"Proiektuak2 3DC","3º Div.Cur.",
"Latina BH4","4. DBH",
"Fisika eta Kimika BH4","4. DBH",
"Psikomotrizitate esparrua 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Arte eta Teknologia Esparrua 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Hezkuntza Arreta 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Logika eta Matematika Esparrua 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Hezkuntza Arreta","Programa de Currículo Adaptado",
"Matematikan Sakontzen BH4","4. DBH",
"Herritasunerako eta giza eskubideetarako hezkuntza 3DC","3º Div.Cur.",
"Atzerriko Bigarren Hizkuntza: Alemana BH2","2. DBH",
"Komunikazio Esparrua 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Gizarte eta Natura esparrua 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Autonomi eta Garapen Pertsonala 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Gizarte Autonomi eta Elkarreragina 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Atzerriko Hizkuntza: Ingelesa  3DC","3º Div.Cur.",
"Autonomi eta Garapen Pertsonala 2","2. C.E.U.",
"Logika eta Matematika Esparrua 2","2. C.E.U.",
"Lanbide hastapena: bizitza heldu eta aktibora igarotzea BH4 (Opt)","4. DBH",
"Literatura Unibertsala (Opt)  BH4","4. DBH",
"Erlijioa 1","1. Oinarrizko Hezkuntza (C.E.U.)",
"Gizarte eta Natura esparrua 2","2. C.E.U.",
"Psikomotrizitate esparrua 2","2. C.E.U.",
"Arte eta Teknologia Esparrua 2","2. C.E.U.",
"Gizarte Autonomi eta Elkarreragina 2","2. C.E.U.",
"Hezkuntza Arreta 2","2. C.E.U.",
"Komunikazio Esparrua 2","2. C.E.U.",
"Fisika eta Kimika","1. Batxilergoa LOE",
"Filosofia eta herritartarsuna","1. Batxilergoa LOE",
"Euskal Hizkuntza eta Literatura I","1. Batxilergoa LOE",
"Mundu Garaikidearen Historia","1. Batxilergoa LOE",
"Gorputz Hezkuntza","1. Batxilergoa LOE",
"Mundu garaikiderako zienztziak","1. Batxilergoa LOE",
"GZei aplikatutako Matematika I","1. Batxilergoa LOE",
"Atzerriko Hizkuntza I: Ingelesa","1. Batxilergoa LOE",
"Gaztelania eta Literatura I","1. Batxilergoa LOE",
"Ekonomia","1. Batxilergoa LOE",
"Erlijioa","1. Batxilergoa LOE",
"Atzerriko Bigarren Hizkuntza I: Frantsesa","1. Batxilergoa LOE",
"Hezkuntza Arreta","1. Batxilergoa LOE",
"Teknologia industriala I","1. Batxilergoa LOE",
"Marrazketa Teknikoa I","1. Batxilergoa LOE",
"Fisika eta Kimika Sakontzen BH4","4. DBH",
"Gorputz Hezkuntza 4DC","4º Div. Cur.",
"Hezkuntza etiko-zibikoa 4DC","4º Div. Cur.",
"Hizkuntzaren eta gizartearen esparrua  4DC","4º Div. Cur.",
"Hezkuntza Arreta 4DC","4º Div. Cur.",
"Proiektuak 3 4DC","4º Div. Cur.",
"Biologia eta Geologia","1. Batxilergoa LOE",
"Atzerriko Bigarren Hizkuntza: Alemana BH3","3. DBH",
"Matematika I","1. Batxilergoa LOE",
"Informazioaren eta komunikazioaren teknologiak","1. Batxilergoa LOE",
"Esparru zientifiko-matematikoa 4DC","4º Div. Cur.",
"Grekoa I","1. Batxilergoa LOE",
"Latina I","1. Batxilergoa LOE",
"Nafarroako Geografia eta Historia","1. Batxilergoa LOE",
"Atzerriko Hizkuntza: Ingelesa 4DC","4º Div. Cur.",
"Erlijioen historia eta kultura BH4","4. DBH",
"Proiektuak4 4DC","4º Div. Cur.",
"Euskal Hizkuntza eta Literatura II","2. Batxilergoa LOE",
"Atzerriko Hizkuntza II: Ingelesa","2. Batxilergoa LOE",
"Esp. H.","2. Batxilergoa LOE",
"Kimika","2. Batxilergoa LOE",
"GZei aplikatutako Matematika II","2. Batxilergoa LOE",
"Latina II","2. Batxilergoa LOE",
"Erl3 DC","3º Div.Cur.",
"Biologia","2. Batxilergoa LOE",
"Filosofiaren Historia","2. Batxilergoa LOE",
"Bigarren Atzerriko Hizkuntza II: Frantsesa","2. Batxilergoa LOE",
"Gaztelania eta Literatura II","2. Batxilergoa LOE",
"Matematika II","2. Batxilergoa LOE",
"Artearen Historia","2. Batxilergoa LOE",
"Enpresaren ekonomia","2. Batxilergoa LOE",
"Geografia","2. Batxilergoa LOE",
"Fisika","2. Batxilergoa LOE",
"Marrazketa Teknikoa II","2. Batxilergoa LOE",
"Atzerriko Bigarren Hizkuntza: Alemana BH4","4. DBH",
"Gizarte Autonomi eta Elkarreragina 3","3. C.E.U",
"Arte eta Teknologia Esparrua 3","3. C.E.U",
"Gizarte eta Natura esparrua 3","3. C.E.U",
"Psikomotrizitate esparrua 3","3. C.E.U",
"Lurraren eta Ingurumenaren Zientziak","2. Batxilergoa LOE",
"Literatura Unibertsala","2. Batxilergoa LOE",
"Industri Teknologia II","2. Batxilergoa LOE",
"Elektroteknia","2. Batxilergoa LOE",
"Logika eta Matematika Esparrua 3","3. C.E.U",
"Komunikazio Esparrua 3","3. C.E.U",
"Autonomi eta Garapen Pertsonala 3","3. C.E.U",
"Erlijioa 2","2. C.E.U.",
"Grekoa II","2. Batxilergoa LOE",
"Erlijioa 4DC","4º Div. Cur.",
"Gizarte Autonomi eta Elkarreragina 4","4. C.E.U.",
"Arte eta Teknologia Esparrua 4","4. C.E.U.",
"Logika eta Matematika Esparrua 4","4. C.E.U.",
"Psikomotrizitate esparrua 4","4. C.E.U.",
"Gizarte eta Natura esparrua 4","4. C.E.U.",
"Komunikazio Esparrua 4","4. C.E.U.",
"Atzerriko Bigarren Hizkuntza I: Alemana","1. Batxilergoa LOE",
"Nafarroako Geografia eta Historia","2. Batxilergoa LOE",
"Musikaren Historia","1. Batxilergoa LOE",
"Hezkuntza Arreta 4","4. C.E.U.",
"Autonomi eta Garapen Pertsonala 4","4. C.E.U.",
"Erlijioa 3","3. C.E.U",
"Informazioaren eta komunikazioaren teknologiak","2. Batxilergoa LOE",
"Hezkuntza Arreta (1.)","1. Batxilergoa LOE",
"Hezkuntza Arreta 3","3. C.E.U",
"Bigarren Atzerriko Hizkuntza II: Alemana","2. Batxilergoa LOE",
"Erlijioa (1.)","1. Batxilergoa LOE",
"Musikaren Historia","2. Batxilergoa LOE",
"Balio etikoak DBH1","1. DBH",
"Atzerriko Hizkuntza: Ingelesa BH1","3. DBH",
"Fisika eta Kimika DBH3","3. DBH",
"Informazioaren eta Komunikazioaren Teknologiak I","1. Batxilergoa LOE",
"Hizkuntzaren eta gizartearen esparrua 3PM","3º PMAR",
"Proiektuak 3 3PM","3º PMAR",
"Biologia eta geologia DBH3","3. DBH",
"Irakaskuntza akademikoetara bideratutako matematika DBH3","3. DBH",
"Balio etikoak BH3","3. DBH",
"IA Jarduera fisikoak","2. Batxilergoa LOE",
"Irakaskuntza aplikatuetara bideratutako matematika DBH3","3. DBH",
"Gorputz hezkuntza 3PM","3º PMAR",
"Balio etikoak 3PM","3º PMAR",
"Marrazketa Artistikoa I","1. Batxilergoa LOE",
"Proiektuak 4 3PM","3º PMAR",
"Atzerriko hizkuntzak esparrua: Ingelesa 3PM","3º PMAR",
"Anatomia Aplikatua","1. Batxilergoa LOE",
"Esparru zientifiko eta matematikoa 3PM","3º PMAR"]

for i in range(int(len(s)/2)):
  if i%2==0:
    print(i,s[i+1])
    co=course.objects.get(name_eu=s[i+1])
    su=subject()
    su.name_eu=s[i]
    su.name_es=s[i]
    su.abv_eu=s[i]
    su.abv_es=s[i]
    su.course=co
    su.save()
  
with open(file, 'r', encoding="UTF-8") as results:
      reader = csv.reader(results,delimiter=";")
      for s in reader:
        print(s)
        co=course.objects.get(name_eu=s[1])
        su=subject()
        su.name_eu=s[0]
        su.name_es=s[0]
        su.abv_eu=s[0]
        su.abv_es=s[0]
        su.course=co
        su.save()
        
        
import sqlite3
db="/home/asier/Hezkuntza/SGCC/PR02 Gestion del proceso ensenanza-aprendizaje (imparticion de cursos)/PR0204 Evaluacion/Python-educa/mendillorri.db"
con=sqlite3.connect(db)
cur=con.cursor()
names=cur.execute("select * from names")
for name in names:
    s=student()
    s.uniquename=name[0]
    s.educacode=name[1]
    s.fullname=name[2]
    s.birthdate=name[3]
    s.gender=name[4]
    s.nationality=name[5]
    s.save()
    
t=366270-328342
nil=45863
graded=366270-45863=320407
grades=cur.execute("select * from grades where id>328342")
for i,gra in enumerate(grades):
  p=period.objects.filter(name_es=gra[5]).count()
  print(i,": ",i*100/t)
  if p>0:
    try:
      s=grade()
      c=course.objects.get(name_es=gra[4])
      s.year=year.objects.get(year=gra[1])
      s.subject=subject.objects.get(name_es=gra[3],course=c)
      s.period=period.objects.get(name_es=gra[5])
      s.student=student.objects.get(uniquename=gra[2])
      s.grade=gra[6]
      s.save()
    except:
      print("Error: ",gra)
    
yd=cur.execute("select * from yeardata")
for yd1 in yd:
  ydn=yeardata()
  ydn.year=year.objects.get(year=yd1[2])
  ydn.course=course.objects.get(name_es=yd1[3])
  ydn.group=yd1[4]
  ydn.lang=yd1[5]
  ydn.repeating=yd1[6]
  ydn.promoting=yd1[7]
  ydn.student=student.objects.get(uniquename=yd1[1]) 
  ydn.save()